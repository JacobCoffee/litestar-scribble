# scribbl-py Environment Configuration
# Copy this file to .env and update the values

# =============================================================================
# Application Settings
# =============================================================================
LITESTAR_APP=scribbl_py.app:app
DEBUG=true

# =============================================================================
# Database Configuration
# =============================================================================
# SQLite (default - good for development)
DATABASE_URL=sqlite+aiosqlite:///./scribbl.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/scribbl

# =============================================================================
# OAuth Providers (optional - for user authentication)
# =============================================================================
# BASE_URL is used to construct OAuth callback URLs for ALL providers:
#   {BASE_URL}/auth/discord/callback
#   {BASE_URL}/auth/google/callback
#   {BASE_URL}/auth/github/callback
#
# For local development, leave unset (defaults to http://localhost:8000)
# For production, set to your domain (e.g., https://scribble.scriptr.dev)
BASE_URL=http://localhost:8000

# Google OAuth
# Get credentials at: https://console.cloud.google.com/apis/credentials
# Add redirect URI: {BASE_URL}/auth/google/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Discord OAuth
# Get credentials at: https://discord.com/developers/applications
# Add redirect URI: {BASE_URL}/auth/discord/callback
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=

# GitHub OAuth
# Get credentials at: https://github.com/settings/developers
# Add redirect URI: {BASE_URL}/auth/github/callback
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# =============================================================================
# Telemetry & Analytics (optional)
# =============================================================================

# Sentry - Error tracking and performance monitoring
# Get DSN at: https://sentry.io/
SENTRY_DSN=
SENTRY_TRACES_RATE=0.1
SENTRY_PROFILES_RATE=0.1
ENVIRONMENT=development

# PostHog - Product analytics
# Get API key at: https://posthog.com/
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com

# =============================================================================
# Session & Security
# =============================================================================
# Secret key for session encryption (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SESSION_SECRET_KEY=change-me-in-production

# =============================================================================
# Rate Limiting
# =============================================================================
# Set to "false" to disable rate limiting
RATE_LIMIT_ENABLED=true
# Default requests per minute (applies to all endpoints not otherwise configured)
RATE_LIMIT_PER_MINUTE=100
# API requests per minute
RATE_LIMIT_API_PER_MINUTE=60
# Auth requests per minute (lower to prevent brute force)
RATE_LIMIT_AUTH_PER_MINUTE=20

# =============================================================================
# Task Queue (Huey)
# =============================================================================
# Set to "false" to disable task queue
TASK_QUEUE_ENABLED=true
# Path to Huey's SQLite database for task storage
TASK_QUEUE_DB_PATH=./huey_tasks.db
# Set to "true" for immediate task execution (testing only)
TASK_QUEUE_IMMEDIATE=false
# Days to retain old canvases before cleanup (default: 30)
CANVAS_RETENTION_DAYS=30
